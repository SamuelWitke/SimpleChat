{"version":3,"sources":["logo.svg","actions/index.js","models/message-types.js","containers/Join.js","containers/Message.js","models/index.js","components/Message.js","utils/timeSince.js","containers/MessageList.js","containers/Users.js","App.js","serviceWorker.js","reducers/index.js","sockets.js","store/index.js","store/configureStore.prod.js","components/Error.js","index.js"],"names":["module","exports","__webpack_require__","p","requestUsers","send","JoinForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onJoinClick","event","preventDefault","joinFn","_this$state","state","name","valid","checkName","target","value","length","setState","type","keyCode","react_default","a","createElement","style","float","maxLength","placeholder","onKeyDown","onChange","onClick","disabled","Component","connect","dispatch","getState","_ref","join","SendMessageForm","onSendClick","message","sendMessageFn","key","className","_ref2","sendMessage","components_Message","createdAt","marginRight","date","elapsed","Date","now","seconds","Math","floor","interval","timeSince","MessageList","messageList","scrollTop","scrollHeight","messages","ref","e","map","i","id","user","users","currentUser","src","logo","alt","Users","Message","Join","containers_MessageList","Boolean","window","location","hostname","match","handlers","_handlers","defineProperty","payload","objectSpread","concat","_ref3","metadata","_ref4","_ref5","userId","filter","_ref6","reducers","arguments","undefined","_ref7","handler","Singleton","instance","getInstance","HOST","origin","replace","getSocket","WebSocket","init","setupWebsocket","Promise","resolve","reject","webSocket","receive","onMessageCb","onmessage","JSON","parse","data","stringify","onopen","onclose","close","Error","src_store","initialState","then","middleware","thunkMiddleware","withExtraArgument","store","createStore","rootReducer","applyMiddleware","apply","catch","prod","storeWeb","components_Error","setupStore","console","log","ReactDOM","render","es","src_App_0","document","getElementById","error","toString","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fb9bb93b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import {\n    joinRequested,\n    messageAdded,\n    usersRequested,\n  } from \"../models/message-types\";\n  import {\n    messageSendRequested,\n  } from \"../models/index\";\n  \n  export const requestUsers = (send) => send(usersRequested);\n  \n  export const join = (name) => (dispatch, getState, { send }) => {\n    send(joinRequested, { name });\n  };\n  \n  export const sendMessage = (message) => (dispatch, getState, { send }) => {\n  \n    dispatch({ type: messageSendRequested });\n    send(messageAdded, { message });\n  };\n  \n  \n  ","export const userJoined = \"@@user/userJoined\";\nexport const userLeft = \"@@user/userLeft\";\nexport const joinRequested= \"@@user/joinRequested\";\nexport const usersRequested= \"@@user/usersRequested\";\nexport const messageAdded= \"@@user/messageAdded\";","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { join } from \"../actions\";\n\nclass JoinForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { valid: false, name: null };\n  }\n\n  onJoinClick = (event) => {\n    event.preventDefault();\n    const { joinFn } = this.props;\n    const { name, valid} = this.state;\n    if (!valid) {\n      return;\n    }\n    joinFn(name);\n  }\n\n  checkName = (event) => {\n    const name = event.target.value;\n    const valid = name && name.length > 0;\n    const { joinFn} = this.props;\n\n    this.setState({ valid, name });\n\n    // if the enter key was pressed and the form is valid, submit it\n    if (valid && event.type === \"keydown\" && event.keyCode === 13) {\n      joinFn(name);\n    }\n  }\n\n  render() {\n    const { valid} = this.state;\n    \n\n    return (\n      <div>\n        <input\n        style={{float: \"left\"}}\n          type=\"text\"\n          maxLength=\"20\"\n          placeholder=\"Your name\"\n          onKeyDown={this.checkName}\n          onChange={this.checkName}\n        />\n        <button onClick={this.onJoinClick} disabled={!valid}>\n          Join\n        </button>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(\n  null,\n  (dispatch) => ({\n    joinFn: (name) => dispatch(join(name)),\n  })\n)(JoinForm);","import React, { Component } from \"react\";\nimport { sendMessage } from \"../actions\";\nimport { connect } from \"react-redux\";\n\nclass SendMessageForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { valid: false, name: null };\n  }\n\n  onSendClick = (event) => {\n    event.preventDefault();\n    const { message, valid, } = this.state;\n    const { sendMessageFn } = this.props;\n    if (!valid || !message || message.length === 0) {\n      return;\n    }\n\n    sendMessageFn(message);\n    this.setState({ valid: false, message: \"\" });\n  }\n\n  onChange = (event) => {\n    const message = event.target.value;\n    const valid = message && message.length > 0;\n    this.setState({ valid, message });\n  }\n\n  onKeyDown = (event) => {\n    if (event.key === \"Enter\") {\n      return this.onSendClick(event);\n    }\n  }\n\n  render() {\n    const { valid } = this.state;\n\n    return (\n      <div>\n        <input\n          className=\"send-message-form-input\"\n          placeholder=\"Say something nice\"\n          maxLength=\"200\"\n          onChange={this.onChange}\n          onKeyDown={this.onKeyDown}\n        />\n        <button onClick={this.onSendClick} disabled={!valid}>\n          Send\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n(dispatch) => ({\n  sendMessageFn: (message) => dispatch(sendMessage(message)),\n})\n)(SendMessageForm);","export const messageSendRequested = \"messageSendRequested\";","import React from \"react\";\nimport timeSince from '../utils/timeSince';\n\nexport default ({ name, createdAt, message }) => (\n  <div className=\"message\">\n    <span style={name && { marginRight: \"5px\" }}>{name && name + \":\"}</span>\n    <span className=\"text\"> &nbsp; {message} &nbsp; </span>\n    <span className=\"created-at\">{timeSince(createdAt)}</span>\n  </div>\n);\n","export default (date) => {\n    const elapsed = Date.now() - date;\n    if (elapsed < 5000) {\n      return \"just now\";\n    }\n  \n    const seconds = Math.floor(elapsed / 1000);\n    let interval = Math.floor(seconds / 31536000);\n  \n    if (interval > 1) {\n      return interval + \" yrs ago\";\n    }\n  \n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n      return interval + \" mon ago\";\n    }\n  \n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n      return interval + \" days ago\";\n    }\n  \n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n      return interval + \" hr ago\";\n    }\n  \n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n      return interval + \" min ago\";\n    }\n  \n    return Math.floor(seconds) + \" sec ago\";\n  };\n  ","import React, { Component } from \"react\";\nimport Message from \"../components/Message\";\nimport { connect } from \"react-redux\";\n\nclass MessageList extends Component {\n  componentDidUpdate() {\n    this.messageList.scrollTop = this.messageList.scrollHeight;\n  }\n\n  render() {\n    const { messages } = this.props;\n\n    return (\n      <div className=\"message-list\">\n        <strong>Messages</strong>\n        <div\n          className=\"messages-list\"\n          ref={(e) => {\n            this.messageList = e;\n          }}\n        >\n          {messages.map(({ id, user, message, createdAt },i) => (\n            <span key={i}>\n            <Message\n              key={id}\n              name={user && user.name}\n              createdAt={createdAt}\n              message={message}\n            />\n            </span>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n({ messages }) => ({ messages })\n)(MessageList);","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nclass MessageList extends Component {\n  componentDidUpdate() {\n    this.messageList.scrollTop = this.messageList.scrollHeight;\n  }\n\n  render() {\n    const { users } = this.props;\n\n    return (\n      <div className=\"message-list\">\n        <strong>Users In Chat</strong>\n        <div\n          className=\"messages-list\"\n          ref={(e) => {\n            this.messageList = e;\n          }}\n        >\n        <ul>\n          {users.map(({name},i) => (\n            <li key={i}>\n            {name}\n           </li>\n          ))}\n        </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n({ users }) => ({ users })\n)(MessageList);","import React  from 'react';\nimport './App.css';\nimport Join from './containers/Join';\nimport Message from './containers/Message';\nimport MessageList from './containers/MessageList';\nimport Users from './containers/Users'\nimport { connect } from \"react-redux\";\nimport logo from './logo.svg';\n\n\nconst App = ({currentUser})=>{\n    return (\n      <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      <section id=\"page\">\n      <header className=\"\">\n       <Users/></header>\n    <nav>{!currentUser ? <Join/> : <Message/>}</nav>\n        <main><MessageList/></main>\n      </section>\n      </div>\n    );\n  }\n\nexport default connect(\n  ({currentUser}) => ({currentUser})\n  )(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\n    joinRequested,\n    messageAdded,\n    userJoined,\n    userLeft,\n    usersRequested,\n  } from \"../models/message-types\";\n  \n  const handlers = {\n    [joinRequested]: ({ state, payload: currentUser }) => ({\n      ...state,\n      currentUser,\n    }),\n    // Note: currentUser is already in users\n    [userJoined]: ({ state, payload: user }) => ({\n      ...state,\n      users: state.users.concat([user]),\n    }),\n    [messageAdded]: ({ state, payload: message, metadata: { createdAt } }) => ({\n      ...state,\n      messages: state.messages.concat([{ ...message, createdAt }]),\n    }),\n    [usersRequested]: ({ state, payload: users }) => ({\n      ...state,\n      users,\n    }),\n    [userLeft]: ({ state, payload: { userId } }) => ({\n      ...state,\n      users: state.users.filter(({ id }) => id !== userId),\n    }),\n  };\n  \n  export default (state = {}, { type, payload, metadata }) => {\n    const handler = handlers[type];\n    if (handler) {\n      return handler({ state, payload, metadata });\n    }\n  \n    return state;\n  };","const Singleton = (() => {\n\t// Instance stores a reference to the Singleton\n\tvar instance;\n\n\tfunction init() {\n\t\t// Singleton\n\n\t\t// Private methods and variables\n\t\t/*\n\t\tconst env = window._env_ || {};\n\t\tconst AppConfig = {\n\t\t\tPROTOCOL: env.ENV === \"production\" ? \"wss\" : \"ws\",\n\t\t\tHOST: env.ENV === \"production\" ? \"reduxchater.herokuapp.com\" : \"localhost\",\n\t\t\tPORT: env.ENV === \"production\" ? env.PORT : \"8080\",\n\t\t}\n\t\t*/\n\t\tconst HOST = window.location.origin.replace(/^http/, 'ws')\n\n\n\t\treturn {\n\t\t\t// Public methods and variables\n\t\t\tgetSocket: function() {\n\t\t\t\treturn new WebSocket(HOST);\n\t\t\t}\n\n\t\t};\n\n\t};\n\n\treturn {\n\n\t\t// Get the Singleton instance if one exists\n\t\t// or create one if it doesn't\n\t\tgetInstance: function () {\n\t\t\tif ( !instance ) {\n\t\t\t\tinstance = init();\n\t\t\t}\n\n\t\t\treturn instance.getSocket();\n\t\t}\n\n\t};\n\n})();\n\n\t\t\t\texport const setupWebsocket = () =>\n\t\t\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\t\t\tconst webSocket = Singleton.getInstance();\n\t\t\t\t\t\tconst receive = (onMessageCb) => {\n\t\t\t\t\t\t\twebSocket.onmessage = (event) => onMessageCb(JSON.parse(event.data));\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst send = (type, payload) =>\n\t\t\t\t\t\t\twebSocket.send(JSON.stringify({ type, payload }));\n\n\t\t\t\t\t\twebSocket.onopen = () => resolve({ send, receive });\n\t\t\t\t\t\twebSocket.onclose = () => {\n\t\t\t\t\t\t\twebSocket.close();\n\t\t\t\t\t\t\treject(new Error(\"WebSocket Closed\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n","import dev from \"./configureStore.dev\";\nimport prod from \"./configureStore.prod\";\n\nexport default new Promise( (resolve,reject) => {\nif (process.env.NODE_ENV === \"production\") {\n    resolve(prod().then((storeWeb) => storeWeb))\n} else {\n    resolve(dev().then((storeWeb) => storeWeb )).catch(e => {throw e});\n}\n})","import { createStore,  applyMiddleware } from 'redux'\nimport rootReducer from '../reducers'\nimport thunkMiddleware from \"redux-thunk\";\nimport { setupWebsocket } from \"../sockets\";\nimport { requestUsers } from \"../actions\";\n\nexport default () => {\n    const initialState = {\n        messages: [],\n        users: [],\n        currentUser: null,\n    };\n\n\n      return setupWebsocket().then(({ send, receive }) => {\n        const middleware=[(thunkMiddleware.withExtraArgument({ send }))];\n\n        const store = createStore(\n            rootReducer,\n            initialState,\n            applyMiddleware(...middleware),\n        );\n\n         receive(store.dispatch);\n         requestUsers(send);\n        return store;\n    }).catch( e => {throw e});\n\n};","import React from 'react'\n\nexport default (Error) => {\n  return (\n    <div>\n     {JSON.stringify(Error)}\n    </div>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport setupStore from './store/index';\nimport { Provider } from \"react-redux\";\nimport Error from './components/Error';\n\nsetupStore.then((store) => {\n  console.log(\"store rendered\");\n  ReactDOM.render(\n      <Provider store={store}>\n        <App />\n      </Provider>,\n  document.getElementById('root'))\n  }).catch( (e) => {\n    return (\n  ReactDOM.render(\n  <Error error ={e.toString()}/>,\n  document.getElementById('root'))\n    )\n  });\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}